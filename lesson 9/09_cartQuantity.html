

<!DOCTYPE html>
<html>
    <head>
        <title>Cart Quantity</title>
    </head>
    <body>
        <p>Cart quantity</p>

        <button onclick="
            updateCart('show')
        ">Show quantity</button>

        <button onclick="
            updateCart('add', 1)
        ">Add to Cart</button>

        <p>
            <button onclick="
                updateCart('add', 2)   
            ">+2</button>
            <button onclick="
                updateCart('add', 3)
            ">+3</button>
            <button onclick="
                updateCart('add', 4)
            ">+4</button>
        </p>

        <p>
            <button onclick="
                updateCart('remove', 1)   
            ">Remove from cart</button>
            <button onclick="
                updateCart('remove',2)
            ">-2</button>
        </p>
        
        <p><button onclick="
            updateCart('reset')
            displayQuantity()
        ">Reset</button></p>

        <p class="js-quantity"></p>

        <script>
            let cart = 0
            displayQuantity()

            function updateCart(action, value = 0){
                if(action === 'show'){
                    value = 0
                }else if(action === 'add' ){
                    if(cart < 10 && cart + value <= 10){
                        cart += value
                    }
                    else if(cart < 10 && cart + value > 10){
                        // cart += value -1
                        alert('Exceeds the limit on adding')
                        return
                    }
                    else{
                        alert('Cart is full')
                        return
                    }
                    
                }else if(action === 'remove'){
                    if(cart === 0){
                        alert('Cart is empty')
                        return
                    }else if(cart > 0 && cart - value >= 0){
                        cart -= value
                    }else if(cart > 0 && cart - value < 0){
                        if(cart - (value -1) >= 0){
                            cart -= (value-1)
                            alert(`Removed ${value-1} items from cart`)
                            
                        }
                        
                    }
                    
                }else if(action === 'reset'){
                    cart = 0
                }

                console.log(`Cart quantity : ${cart}`)
                displayQuantity()
            }

            function displayQuantity(){
                document.querySelector('.js-quantity').innerHTML = `Cart quantity : ${cart}`
            }
        </script>
    </body>
</html>